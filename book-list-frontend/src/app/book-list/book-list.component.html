<script src="../app-routing.module.ts"></script>
<div class="container">
    <div class="row">
        <div class="col-12 mt-4 ">
            <h1 class="h2">Listagem de Livros</h1>
        </div>

        <div class="col-12 mt-4 mb-4 no-gutters">
            <div class="row d-block">
                <app-book-list-filter></app-book-list-filter>
            </div>
        </div>

        <div class="col-12 mb-4">
            {{ count }} resultados encontrados
        </div>

        <div class="col-12" *ngIf="list && list.length > 0">
            <table class="table table-stripped">
                <thead>
                <tr>
                    <th>TÃ­tulo</th>
                    <th>ISBN</th>
                    <th>Autor</th>
                    <th>Editora</th>
                    <th>Ano</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let book of list">
                    <td>
                        <a [routerLink]="['/' + book.id]">{{ book.title }}</a>
                    </td>
                    <td>{{ book.isbn }}</td>
                    <td>{{ book.author }}</td>
                    <td>{{ book.publisher }}</td>
                    <td>{{ book.year }}</td>
                </tr>
                <tr *ngIf="!list || list.length === 0">
                    <td rowspan="5">
                        Nenhum volume encontrado!
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="col-12 d-flex justify-content-center">
            <nav *ngIf="list && list.length > 0">
                <ul class="pagination">
                    <li class="page-item" [ngClass]="{disabled: page === 1}">
                        <a class="page-link" href="javascript: void(0);" (click)="setPage(page - 1)">Previous</a>
                    </li>
                    <li class="page-item" *ngFor="let p of getPages()" [ngClass]="{active: p === page}">
                        <a class="page-link" href="javascript: void(0);" (click)="setPage(p)">{{ p }}</a>
                    </li>
                    <li class="page-item" [ngClass]="{disabled: page === maxPage}">
                        <a class="page-link" href="javascript: void(0);" (click)="setPage(page + 1)">Next</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
</div>
